@custom-variant dark (&:is(.dark *));

:root {
  --font-size: 16px;
  --background: #ffffff;
  --foreground: oklch(0.145 0 0);
  --card: #ffffff;
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: #030213;
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(0.95 0.0058 264.53);
  --secondary-foreground: #030213;
  --muted: #ececf0;
  --muted-foreground: #717182;
  --accent: #e9ebef;
  --accent-foreground: #030213;
  --destructive: #d4183d;
  --destructive-foreground: #ffffff;
  --border: rgba(0, 0, 0, 0.1);
  --input: transparent;
  --input-background: #f3f3f5;
  --switch-background: #cbced4;
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --radius: 0.625rem;
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: #030213;
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);
  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.439 0 0);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-input-background: var(--input-background);
  --color-switch-background: var(--switch-background);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/**
 * Base typography. This is not applied to elements which have an ancestor with a Tailwind text class.
 */
@layer base {
  :where(:not(:has([class*=' text-']), :not(:has([class^='text-'])))) {
    h1 {
      font-size: var(--text-2xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h2 {
      font-size: var(--text-xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h3 {
      font-size: var(--text-lg);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h4 {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    p {
      font-size: var(--text-base);
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
    }

    label {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    button {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    input {
      font-size: var(--text-base);
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
    }
  }
}

html {
  font-size: var(--font-size);
  scroll-behavior: smooth;
}

body {
  overflow-x: hidden;
}

/* Custom scrollbar for cosmic theme */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.5);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(168, 85, 247, 0.6), rgba(236, 72, 153, 0.6));
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, rgba(168, 85, 247, 0.8), rgba(236, 72, 153, 0.8));
}

/* Glowing Card Effect */
.glow-card {
  --glow-sens: 30;
  --color-sens: calc(var(--glow-sens) + 20);
  --pointer-°: 45deg;
  --glow-color: 280deg 90% 70%;
  --glow-boost: 0%;
  
  position: relative;
  border-radius: 1rem;
  isolation: isolate;
  transform: translate3d(0, 0, 0.01px);
  display: grid;
  border: 1px solid rgb(255 255 255 / 30%);
  background: linear-gradient(8deg, rgb(255 255 255 / 0.85) 0%, rgb(255 255 255 / 0.90) 100%);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  box-shadow: 
    rgba(0, 0, 0, 0.2) 0px 1px 2px, 
    rgba(0, 0, 0, 0.2) 0px 2px 4px, 
    rgba(0, 0, 0, 0.2) 0px 4px 8px, 
    rgba(0, 0, 0, 0.2) 0px 8px 16px, 
    rgba(0, 0, 0, 0.2) 0px 16px 32px,
    inset 0 0 60px rgba(168, 85, 247, 0.05);
  transition: all 0.3s ease;
  overflow: hidden;
}

.glow-card:hover {
  transform: translate3d(0, -4px, 0.01px);
  box-shadow: 
    rgba(0, 0, 0, 0.25) 0px 2px 4px, 
    rgba(0, 0, 0, 0.25) 0px 4px 8px, 
    rgba(0, 0, 0, 0.25) 0px 8px 16px, 
    rgba(0, 0, 0, 0.25) 0px 16px 32px, 
    rgba(0, 0, 0, 0.25) 0px 32px 64px,
    inset 0 0 80px rgba(168, 85, 247, 0.1),
    0 0 40px rgba(168, 85, 247, 0.2);
}

.glow-card::before,
.glow-card::after,
.glow-card > .glow {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  transition: opacity 0.25s ease-out;
  z-index: -1;
}

.glow-card:not(:hover):not(.animating)::before,
.glow-card:not(:hover):not(.animating)::after,
.glow-card:not(:hover):not(.animating) > .glow {
  opacity: 0;
  transition: opacity 0.75s ease-in-out;
}

/* Mesh gradient border */
.glow-card::before {
  border: 1px solid transparent;
  background:
    linear-gradient(rgb(255 255 255 / 0.7) 0% 100%) padding-box,
    linear-gradient(rgb(255 255 255 / 0%) 0% 100%) border-box,
    radial-gradient(at 80% 55%, hsla(268,100%,76%,1) 0px, transparent 50%) border-box,
    radial-gradient(at 69% 34%, hsla(349,100%,74%,1) 0px, transparent 50%) border-box,
    radial-gradient(at 8% 6%, hsla(136,100%,78%,1) 0px, transparent 50%) border-box,
    radial-gradient(at 41% 38%, hsla(192,100%,64%,1) 0px, transparent 50%) border-box,
    radial-gradient(at 86% 85%, hsla(186,100%,74%,1) 0px, transparent 50%) border-box,
    radial-gradient(at 82% 18%, hsla(52,100%,65%,1) 0px, transparent 50%) border-box,
    radial-gradient(at 51% 4%, hsla(12,100%,72%,1) 0px, transparent 50%) border-box,
    linear-gradient(#c299ff 0 100%) border-box;
  
  opacity: calc((var(--pointer-d, 0) - var(--color-sens)) / (100 - var(--color-sens)));
  
  -webkit-mask-image: conic-gradient(from var(--pointer-°, 45deg) at center, black 25%, transparent 40%, transparent 60%, black 75%);
  mask-image: conic-gradient(from var(--pointer-°, 45deg) at center, black 25%, transparent 40%, transparent 60%, black 75%);
}

/* Mesh gradient background */
.glow-card::after {
  border: 1px solid transparent;
  background:
    radial-gradient(at 80% 55%, hsla(268,100%,76%,1) 0px, transparent 50%) padding-box,
    radial-gradient(at 69% 34%, hsla(349,100%,74%,1) 0px, transparent 50%) padding-box,
    radial-gradient(at 8% 6%, hsla(136,100%,78%,1) 0px, transparent 50%) padding-box,
    radial-gradient(at 41% 38%, hsla(192,100%,64%,1) 0px, transparent 50%) padding-box,
    radial-gradient(at 86% 85%, hsla(186,100%,74%,1) 0px, transparent 50%) padding-box,
    radial-gradient(at 82% 18%, hsla(52,100%,65%,1) 0px, transparent 50%) padding-box,
    radial-gradient(at 51% 4%, hsla(12,100%,72%,1) 0px, transparent 50%) padding-box,
    linear-gradient(#c299ff 0 100%) padding-box;
  
  -webkit-mask-image:
    linear-gradient(to bottom, black, black),
    radial-gradient(ellipse at 50% 50%, black 40%, transparent 65%),
    radial-gradient(ellipse at 66% 66%, black 5%, transparent 40%),
    radial-gradient(ellipse at 33% 33%, black 5%, transparent 40%),
    radial-gradient(ellipse at 66% 33%, black 5%, transparent 40%),
    radial-gradient(ellipse at 33% 66%, black 5%, transparent 40%),
    conic-gradient(from var(--pointer-°, 45deg) at center, transparent 5%, black 15%, black 85%, transparent 95%);
  mask-image:
    linear-gradient(to bottom, black, black),
    radial-gradient(ellipse at 50% 50%, black 40%, transparent 65%),
    radial-gradient(ellipse at 66% 66%, black 5%, transparent 40%),
    radial-gradient(ellipse at 33% 33%, black 5%, transparent 40%),
    radial-gradient(ellipse at 66% 33%, black 5%, transparent 40%),
    radial-gradient(ellipse at 33% 66%, black 5%, transparent 40%),
    conic-gradient(from var(--pointer-°, 45deg) at center, transparent 5%, black 15%, black 85%, transparent 95%);

  -webkit-mask-composite: source-out;
  mask-composite: subtract, add, add, add, add, add;
  
  opacity: calc((var(--pointer-d, 0) - var(--color-sens)) / (100 - var(--color-sens)));
  mix-blend-mode: soft-light;
}

/* Glowing border edges */
.glow-card > .glow {
  --outset: 40px;
  inset: calc(var(--outset) * -1);
  pointer-events: none;
  z-index: 1;
  
  -webkit-mask-image: conic-gradient(from var(--pointer-°, 45deg) at center, black 2.5%, transparent 10%, transparent 90%, black 97.5%);
  mask-image: conic-gradient(from var(--pointer-°, 45deg) at center, black 2.5%, transparent 10%, transparent 90%, black 97.5%);
  
  opacity: calc((var(--pointer-d, 0) - var(--glow-sens)) / (100 - var(--glow-sens)));
  mix-blend-mode: plus-lighter;
}

.glow-card > .glow::before {
  content: "";
  position: absolute;
  inset: var(--outset);
  border-radius: inherit;
  box-shadow: 
    inset 0 0 0 1px hsl(var(--glow-color) / 100%), 
    
    inset 0 0 1px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 60%)), 
    inset 0 0 3px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 50%)), 
    inset 0 0 6px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 40%)), 
    inset 0 0 15px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 30%)), 
    inset 0 0 25px 2px hsl(var(--glow-color) / calc(var(--glow-boost) + 20%)), 
    inset 0 0 50px 2px hsl(var(--glow-color) / calc(var(--glow-boost) + 10%)), 
    
    0 0 1px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 60%)), 
    0 0 3px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 50%)), 
    0 0 6px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 40%)), 
    0 0 15px 0 hsl(var(--glow-color) / calc(var(--glow-boost) + 30%)), 
    0 0 25px 2px hsl(var(--glow-color) / calc(var(--glow-boost) + 20%)), 
    0 0 50px 2px hsl(var(--glow-color) / calc(var(--glow-boost) + 10%));
}

.glow-card .inner {
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  padding: 1.5rem;
}

/* Magical Header Animations */
@keyframes float {
  0%, 100% {
    transform: translateY(0px) translateX(0px);
    opacity: 0;
  }
  10% {
    opacity: 0.6;
  }
  50% {
    transform: translateY(-100px) translateX(20px);
    opacity: 0.8;
  }
  90% {
    opacity: 0.6;
  }
}

@keyframes shimmer {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.animation-delay-300 {
  animation-delay: 0.3s;
}

.animation-delay-600 {
  animation-delay: 0.6s;
}

/* 3D Perspective for splash screen */
.perspective-1000 {
  perspective: 1000px;
  transform-style: preserve-3d;
}

/* Slide up animation for chat */
@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Fade in animation for overlay */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Twinkle animation for stars */
@keyframes twinkle {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
}

/* Starfield layers */
.stars-small,
.stars-medium,
.stars-large {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: transparent;
}

.stars-small {
  background-image: 
    radial-gradient(1px 1px at 20px 30px, white, rgba(0,0,0,0)),
    radial-gradient(1px 1px at 40px 70px, white, rgba(0,0,0,0)),
    radial-gradient(1px 1px at 50px 160px, white, rgba(0,0,0,0)),
    radial-gradient(1px 1px at 130px 80px, white, rgba(0,0,0,0)),
    radial-gradient(1px 1px at 140px 150px, white, rgba(0,0,0,0)),
    radial-gradient(1px 1px at 200px 50px, white, rgba(0,0,0,0)),
    radial-gradient(1px 1px at 230px 140px, white, rgba(0,0,0,0)),
    radial-gradient(1px 1px at 300px 120px, white, rgba(0,0,0,0)),
    radial-gradient(1px 1px at 350px 200px, white, rgba(0,0,0,0));
  background-size: 400px 250px;
  background-repeat: repeat;
  animation: twinkle 3s ease-in-out infinite;
}

.stars-medium {
  background-image: 
    radial-gradient(1.5px 1.5px at 100px 50px, white, rgba(0,0,0,0)),
    radial-gradient(1.5px 1.5px at 200px 150px, white, rgba(0,0,0,0)),
    radial-gradient(1.5px 1.5px at 300px 100px, white, rgba(0,0,0,0)),
    radial-gradient(1.5px 1.5px at 400px 200px, white, rgba(0,0,0,0));
  background-size: 500px 300px;
  background-repeat: repeat;
  animation: twinkle 4s ease-in-out infinite;
  animation-delay: 1s;
}

.stars-large {
  background-image: 
    radial-gradient(2px 2px at 150px 100px, rgba(255,255,255,0.8), rgba(0,0,0,0)),
    radial-gradient(2px 2px at 350px 180px, rgba(255,255,255,0.8), rgba(0,0,0,0)),
    radial-gradient(2px 2px at 250px 50px, rgba(255,255,255,0.8), rgba(0,0,0,0));
  background-size: 600px 400px;
  background-repeat: repeat;
  animation: twinkle 5s ease-in-out infinite;
  animation-delay: 2s;
}

/* Shooting stars */
@keyframes shootingStar {
  0% {
    transform: translateX(0) translateY(0) rotate(-45deg);
    opacity: 1;
  }
  70% {
    opacity: 1;
  }
  100% {
    transform: translateX(-1000px) translateY(500px) rotate(-45deg);
    opacity: 0;
  }
}

.shooting-star {
  position: absolute;
  top: 10%;
  right: 0;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.8);
  animation: shootingStar 3s ease-out infinite;
  opacity: 0;
}

.shooting-star::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 80px;
  height: 1px;
  background: linear-gradient(to left, rgba(255, 255, 255, 0.8), transparent);
  transform-origin: right;
}

/* Cosmic glow effect */
@keyframes cosmicGlow {
  0%, 100% {
    opacity: 0.3;
  }
  50% {
    opacity: 0.6;
  }
}

/* Floating animation for particles */
@keyframes cosmicFloat {
  0%, 100% {
    transform: translateY(0) translateX(0);
  }
  33% {
    transform: translateY(-20px) translateX(10px);
  }
  66% {
    transform: translateY(-10px) translateX(-10px);
  }
}
